df_project <- read.csv("~/laby_PDU/Projekt_2_outer/Projekt_2_PDU/Dane/2007.csv")
View(head(df_project,10))
library("table")
library("data.table")
libarry('data.table')
libary('data.table')
library('data.table')
df_project <- read.csv("~/laby_PDU/Projekt_2_outer/Projekt_2_PDU/Dane/2007.csv")
#Playground
df_project <- as.data.table(df_project)
tmp <- df_project[df_project$Year != 2007, "Year"]
View(tmp)
View(tmp)
View(head(df_project,10))
#Results
num_of_flights_daily <- function(dataFrame){
#Uses data.table package
#returns (idk)
result <- as.data.table(dataFrame)[,.(Month, DayofMonth, "Count" = .N),
keyby = .(Month, DayofMonth)]
}
rm(tmp)
tmp <- num_of_flights_daily(df_project)
View(tmp)
View(tmp)
class(tmp)
tmp[(Month == 9 || DayofMonth == 11),]
tmp[(Month == 9 & DayofMonth == 11),]
mean(tmp$Count)
#Uses data.table package
#returns a data.table
dataFrame <- df_project
result <- as.data.table(dataFrame)
rm(.(dataFrame,result))
rm(.("dataFrame","result"))
rm(dataFrame)
rm(result)
colnames(df_project)
paste(colnames(df_project), collapse = ', ')
cancellations_stats <- function(dataFrame){
#Uses data.table package
#returns a data.table
#Useful columns: Cancelled, CancellationCode
result <- as.data.table(dataFrame)[(Cancelled != 0),
.(CancellationCode, "Count" = .N),
keyby = CancellationCode]
result <- result[order(Count, decreasing = T),]
}
cancelled <- cancellations_stats(df_project)
View(cancelled)
View(tmp)
View(tmp)
num_of_flights_daily <- function(dataFrame){
#Uses data.table package
#returns a data.table with grouped rows by month and day values
result <- as.data.table(dataFrame)[,.("Count" = .N),
keyby = .(Month, DayofMonth)]
}
cancellations_stats <- function(dataFrame){
#Uses data.table package
#returns a data.table
#Useful columns: Cancelled, CancellationCode
result <- as.data.table(dataFrame)[(Cancelled != 0),
.("Count" = .N),
keyby = CancellationCode]
result <- result[order(Count, decreasing = T),]
}
tmp <- num_of_flights_daily(df_project)
class(tmp)
tmp[(Month == 9 & DayofMonth == 11),]
mean(tmp$Count)
cancelled <- cancellations_stats(df_project)
View(cancelled)
install.packages('Dict')
library('Dict')
n_codes <- Dict$new(
"A" = "przewoźnik",
"B" = "pogoda",
"C" = "NAS",
"D" = "bezpieczeństwo")
cancelled[CancelationCode,CancellationCode] <- cancelled[result[CancelationCode,
CancellationCode]]
cancelled[CancelationCode,CancellationCode] <- n_codes[cancelled[CancelationCode,
CancellationCode]]
cancelled[,CancellationCode] <- n_codes[cancelled[,CancellationCode]]
n_codes[cancelled[,CancellationCode]]
n_codes[cancelled[1:length(cancelled$CancellationCode),CancellationCode]]
cancelled[n_codes$keys,CancellationCode]]
cancelled[n_codes$keys,CancellationCode]
for(row in 1:length(cancelled)){
cancelled[row,CancellationCode] <- n_codes[cancelled[row,CancellationCode]]
}
for(row in 1:length(cancelled)){
cancelled[row,CancellationCode] <- n_codes[cancelled[row,CancellationCode, drop = T]]
}
row <- 1
cancelled[row,CancellationCode] <- n_codes$get(cancelled[row,CancellationCode, drop = T])
n_codes$get(cancelled[row,CancellationCode, drop = T])
n_codes$get(cancelled[,CancellationCode, drop = T])
lapply(cancelled$CancellationCode, n_codes$get)
unlist(lapply(cancelled$CancellationCode, n_codes$get))
cancelled["CodeToName"] = unlist(lapply(cancelled$CancellationCode, n_codes$get))
View(cancelled)
for(value in cancelled$CancellationCode){
value <- n_codes$get(value)
}
cancelled <- cancellations_stats(df_project)
for(value in cancelled$CancellationCode){
value <- n_codes$get(value)
}
View(cancelled)
for(value in cancelled$CancellationCode){
cancelled[CancelllationCode == value, CancellationCode] <- n_codes$get(value)
}
for(value in cancelled$CancellationCode){
cancelled[CancellationCode == value, CancellationCode] <- n_codes$get(value)
}
cancelled[CancellationCode == value, .(CancellationCode)] <- n_codes$get(value)
cancelled[CancellationCode == value, "CancellationCode"] <- n_codes$get(value)
class(cancelled)
View(cancelled)
View(cancelled)
for(row in 1:length(cancelled$Count)){
value <- cancelled[row,CancellationCode]
cancelled[CancellationCode == value, "CancellationCode"] <- n_codes$get(value)
}
for(row in 1:length(cancelled$Count)){
value <- cancelled[row,"CancellationCode"]
cancelled[CancellationCode == value, "CancellationCode"] <- n_codes$get(value)
}
View(value)
for(row in 1:length(cancelled$Count)){
value <- cancelled[row,"CancellationCode", drop = T]
cancelled[CancellationCode == value, "CancellationCode"] <- n_codes$get(value)
}
value <- cancelled[row,"CancellationCode", drop = T]
View(value)
cancelled[1,1]
cancelled$CancellationCode[1]
for(row in 1:length(cancelled$Count)){
value <- cancelled$CancellationCode[row]
cancelled[CancellationCode == value, "CancellationCode"] <- n_codes$get(value)
}
for(row in 1:length(cancelled$Count)){
value <- cancelled$CancellationCode[row]
cancelled$CancellationCode[row] <- n_codes$get(value)
}
cancelled <- cancellations_stats(df_project)
for(row in 1:length(cancelled$Count)){
value <- cancelled$CancellationCode[row]
cancelled$CancellationCode[row] <- n_codes$get(value)
}
class(cancelled)
rm(row,value)
hist(cancelled$CancellationCode, cancelled$Count)
hist(factor(cancelled$CancellationCode), cancelled$Count)
barplot(cancelled)
barplot(as.table(cancelled))
?matplot
matplot(cancelled$CancellationCode, cancelled$Count, type ='h')
plot(cancelled$CancellationCode, cancelled$Count, type ='h')
2*pi
plot.new()
plot.window(xlim = c(0,2*pi), ylim = c(-1,1))
plot(cancelled$CancellationCode, cancelled$Count, type ='h')
plot(cancelled$CancellationCode, cancelled$Count, type ='h',
xlim = length(cancelled$CancellationCode))
xlim = c(0,length(cancelled$CancellationCode))
plot(cancelled$CancellationCode, cancelled$Count,)
rm(row,value,xlim)
plot(cancelled$CancellationCode, cancelled$Count,
col = factor(cancelled$CancellationCode))
plot(cancelled$CancellationCode, cancelled$Count,
col = factor(cancelled$CancellationCode),
pch = 1)
plot(factor(cancelled$CancellationCode), cancelled$Count,
col = factor(cancelled$CancellationCode),
pch = 1)
plot(factor(cancelled$CancellationCode), cancelled$Count,
col = factor(cancelled$CancellationCode),
typ = 'h')
plot(factor(cancelled$CancellationCode), cancelled$Count,
col = factor(cancelled$CancellationCode),
type = 'h')
plot(factor(cancelled$CancellationCode), cancelled$Count,
type = 'h')
?plot
plot(factor(cancelled$CancellationCode), cancelled$Count,
type = "h",
col = "red",
lwd = 10)
plot.new()
plot(factor(cancelled$CancellationCode), cancelled$Count,
type = "h",
col = "red",
lwd = 10)
plot(table(cancelled$CancellationCode, cancelled$Count)
type = "h",
plot(table(cancelled$CancellationCode, cancelled$Count),
type = "h",
col = "red")
plot(as.matrix(cancelled$CancellationCode, cancelled$Count),
type = "h",
col = "red")
plot(as.matrix(factor(cancelled$CancellationCode), cancelled$Count),
type = "h",
col = "red")
plot(as.matrix(as.numeric(factor(cancelled$CancellationCode)), cancelled$Count),
type = "h",
col = "red")
as.matrix(as.numeric(factor(cancelled$CancellationCode))
)
as.matrix(as.numeric(factor(cancelled$CancellationCode)), cancelled$Count)
as.matrix.data.frame(cancelled)
mt <- as.matrix.data.frame(cancelled)
plot(mt,
type = "h",
col = "red")
?plot
?matrix
mt <- cbind(matrix(factor(cancelled$CancellationCode),ncol = 1),
matrix(cancelled$Count,ncol = 1))
plot.new()
plot(mt,
type = "h",
col = "red",
xlab = cancelled$CancellationCode)
mt
mt <- cbind(matrix(as.numeric(factor(cancelled$CancellationCode)),ncol = 1),
matrix(cancelled$Count,ncol = 1))
mt
plot(mt,
type = "h",
col = "red",
xlab = cancelled$CancellationCode)
?plot
plot.new()
plot(mt,
type = "h",
col = "red",
lwd = 10)
plot(as.numeric(factor(cancelled$CancellationCode)),cancelled$Count,
type = "h",
col = "red",
lwd = 10)
?plot.window
plot(factor(cancelled$CancellationCode),cancelled$Count,
type = "h",
col = "red",
lwd = 10)
hist(as.numeric(factor(cancelled$CancellationCode)),cancelled$Count,
col = "red",
lwd = 10)
plot(as.numeric(factor(cancelled$CancellationCode)),cancelled$Count,
type = "h",
col = "red",
lwd = 10)
?hist
?plot
?barplot
barplot(mt)
barplot(mt,beside = T)
mt <- as.matrix.data.frame(cancelled)
barplot(mt,beside = T)
tab <- table(cancelled$CancellationCode)
tab
?table
tab <- table(cancelled$CancellationCode, cancelled%Count)
tab <- table(cancelled$CancellationCode, cancelled$Count)
tab
tab <- as.table(matrix(cancelled$Count, nrow = 1))
tab
colnames(tab) <- cancelled$CancellationCode
tab
row.names(tab) <- c("Count")
tab
barplot(tab,beside = T)
barplot(tab,beside = T, col = c("green", "blue", "yellow", "red"))
